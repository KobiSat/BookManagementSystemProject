# 📚 Book Management System

A RESTful API for managing books, built with .NET 8, Entity Framework Core, and SQLite.

## 🚀 Setup Instructions

### Prerequisites

- [.NET 8 SDK](https://dotnet.microsoft.com/download)
- [SQLite](https://www.sqlite.org/download.html) or SQL Server LocalDB
- [Git](https://git-scm.com/)

### Installation

1. **Clone the repository:**

   ```bash
   git clone <repository-url>
   cd BookManagementSystem
   ```

2. **Restore dependencies:**

   ```bash
   dotnet restore
   ```

3. **Apply migrations and update the database:**

   ```bash
   dotnet ef database update
   ```

4. **Run the application:**

   ```bash
   dotnet run
   ```

5. **Access the API:**

   - Base URL: `http://localhost:5000` or `https://localhost:5001`
   - **Swagger UI:** [http://localhost:5000/swagger](http://localhost:5000/swagger)

---

## 📖 API Documentation

### 🔎 API Testing with Swagger

- **Swagger UI** provides interactive documentation for all API endpoints.
- Access it at:
  - `http://localhost:5000/swagger`
  - `https://localhost:5001/swagger`

### Get All Books (Paginated)

- **Endpoint:** `GET /api/books`
- **Query Parameters:**
  - `page` (optional): Page number (default: 1)
  - `pageSize` (optional): Number of books per page (default: 10)

### Get Book by ID

- **Endpoint:** `GET /api/books/{id}`

### Create New Book

- **Endpoint:** `POST /api/books`
- **Body:**
  ```json
  {
    "title": "Book Title",
    "author": "Author Name",
    "publicationDate": "2024-01-01T00:00:00",
    "price": 19.99
  }
  ```

### Update Existing Book

- **Endpoint:** `PUT /api/books/{id}`
- **Body:** Same as **Create New Book** or part of it, must include "id" property in body matching the id in endpoint url.

### Delete Book

- **Endpoint:** `DELETE /api/books/{id}`

### Search Books

- **Endpoint:** `GET /api/books/search`
- **Query Parameters:**
  - `title`: Partial or full title
  - `author`: Partial or full author name
  - Case insensitive

---

## 🔍 Assumptions Made

- **ID Handling:**
  - Book IDs are auto-generated by the database.
- **Search Behavior:**
  - Case-insensitive search using `EF.Functions.Like`.
- **Best correct answer, is better than a regection.** examples:
  - GET a page that is higher than exists - gets the last existing page and a flag "IsOverLastPage": true.
  - POST a book with any id - ignores the id, and gives thethe auto-generated one, for order.
  - Case insensitivity in search.

## 🔧 Development Decisions

- Used **SQLite** for lightweight, serverless storage, reducing setup complexity and external dependencies
- Implemented basic input validation with data annotations.
- Pagination is supported in `GET /api/books`.
- **Error Handling:**
   - Global Error Middleware only handle unexpected errors happens in server. BadRequest, and       NotFound are handled by Entity Framework Core, to keep code clarity, and the reliable and      more commun stracture of the response.  


## 🚀 Future Improvements

- Consider standardized error response for all errors.
- Add pagination to search, as well as search by Price or PublicationDate
- Add **unit tests** for controller actions.
- **Dockerize** the project for easier deployment.

---

## 📂 Project Structure

```
BookManagementSystem/
├── Controllers/
│   └── BooksController.cs
├── Models/
│   └── Book.cs
├── Data/
│   └── AppDbContext.cs
├── Migrations/
├── Program.cs
├── appsettings.json
└── README.md
```

## 🛠️ Technologies Used

- **.NET 8**
- **Entity Framework Core**
- **SQLite**
- **REST API**
- **Swagger (OpenAPI)**

---

## 📬 Contact

For questions or feedback, reach out to: kobisat\@gmail.com

**Thank you for reviewing the Book Management System!**
